{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/OneDrive/Desktop/Ecommerce_Bikiemart/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{Row,Col,Image,ListGroup,Button,Card,Form}from'react-bootstrap';import Message from'../components/Message';import Loader from'../components/Loader';import{listProductDetails}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-success my-3\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: Rs \",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"RS \",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?product.countInStock<=5?\"Only \".concat(product.countInStock,\" left\"):'In Stock':/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",fontWeight:\"bold\"},children:\"Out of Stock\"})})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsxs(Col,{xs:\"auto\",className:\"my-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",style:{padding:\"5px 10px\"},onClick:function onClick(){return setQty(Math.max(qty-1,1));},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-3\",children:qty}),/*#__PURE__*/_jsx(Button,{variant:\"success\",style:{padding:\"5px 10px\"},onClick:function onClick(){return setQty(Math.min(qty+1,Math.min(5,product.countInStock)));},children:\"+\"})]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{variant:\"info\",onClick:addToCartHandler,className:\"btn-block\",disabled:product.countInStock==0,type:\"button\",children:\"Add to Cart\"})})]})})})]})})]});}export default ProductScreen;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","Button","Card","Form","Message","Loader","listProductDetails","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","addToCartHandler","push","image","name","price","description","countInStock","color","fontWeight","padding","Math","max","min"],"sources":["C:/Users/user/OneDrive/Desktop/Ecommerce_Bikiemart/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from 'react-bootstrap'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport { listProductDetails } from '../actions/productActions'\n\nfunction ProductScreen({ match, history }) {\n    const [qty, setQty] = useState(1)\n\n    const dispatch = useDispatch()\n\n    const productDetails = useSelector(state => state.productDetails)\n    const { loading, error, product } = productDetails\n\n    useEffect(() => {\n        dispatch(listProductDetails(match.params.id))\n\n    }, [dispatch, match])\n\n    const addToCartHandler = () => {\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n    return (\n        <div>\n            <Link to='/' className='btn btn-success my-3'>Go Back</Link>\n            {loading ?\n                <Loader />\n                : error\n                    ? <Message variant='danger'>{error}</Message>\n                    : (\n                        <div>\n                            <Row>\n                                <Col md={6}>\n                                    <Image src={product.image} alt={product.name} fluid />\n                                </Col>\n\n\n                                <Col md={3}>\n                                    <ListGroup variant=\"flush\">\n                                        <ListGroup.Item>\n                                            <h3>{product.name}</h3>\n                                        </ListGroup.Item>\n\n                                        \n\n                                        <ListGroup.Item>\n                                            Price: Rs {product.price}\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                            Description: {product.description}\n                                        </ListGroup.Item>\n                                    </ListGroup>\n                                </Col>\n\n\n                                <Col md={3}>\n                                    <Card>\n                                        <ListGroup variant='flush'>\n                                            <ListGroup.Item>\n                                                <Row>\n                                                    <Col>Price:</Col>\n                                                    <Col>\n                                                        <strong>RS {product.price}</strong>\n                                                    </Col>\n                                                </Row>\n                                            </ListGroup.Item>\n                                            <ListGroup.Item>\n                                            <Row>\n                                                    <Col>Status:</Col>\n                                                    <Col>\n                                                    {product.countInStock > 0 ? \n                                                    (product.countInStock <= 5 ? \n                                                        `Only ${product.countInStock} left` : \n                                                        'In Stock') : \n                                                        <span style={{color: \"red\", fontWeight: \"bold\"}}>Out of Stock</span> \n  }\n                                                         </Col>\n                                                </Row>\n                                            </ListGroup.Item>\n\n                                            {product.countInStock > 0 && (\n                                            <ListGroup.Item><Row>\n                                                <Col>Qty</Col>\n                                                <Col xs='auto' className='my-1'>\n                                                    <Button variant=\"danger\" style={{ padding: \"5px 10px\" }} onClick={() => setQty(Math.max(qty - 1, 1))}>-</Button>\n                                                    <span className=\"mx-3\">{qty}</span>\n                                                    <Button variant=\"success\" style={{ padding: \"5px 10px\" }} onClick={() => setQty(Math.min(qty + 1, Math.min(5, product.countInStock)))}>+</Button>\n                                                    </Col></Row></ListGroup.Item>\n                                                    )}\n                                                    <ListGroup.Item>\n                                                <Button variant=\"info\"\n                                                    onClick={addToCartHandler}\n                                                    className='btn-block'\n                                                    disabled={product.countInStock == 0}\n                                                    type='button'>\n                                                    Add to Cart\n                                                </Button>\n                                            </ListGroup.Item>\n                                        </ListGroup>\n                                    </Card>\n                                </Col>\n                            </Row>\n                            \n                        </div>\n                    )\n\n            }\n\n\n        </div >\n    )\n}\n\nexport default ProductScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}