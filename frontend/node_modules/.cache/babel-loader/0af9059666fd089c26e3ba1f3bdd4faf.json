{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import{listProducts,deleteProduct,createProduct}from'../actions/productActions';import{PRODUCT_CREATE_RESET}from'../constants/productConstants';// function ProductListScreen({ history, match }) {\n//     const dispatch = useDispatch()\n//     const productList = useSelector(state => state.productList)\n//     const { loading, error, products, pages, page } = productList\n//     const productDelete = useSelector(state => state.productDelete)\n//     const { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete\n//     const productCreate = useSelector(state => state.productCreate)\n//     const { loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct } = productCreate\n//     const userLogin = useSelector(state => state.userLogin)\n//     const { userInfo } = userLogin\n//     let keyword = history.location.search\n//     useEffect(() => {\n//         dispatch({ type: PRODUCT_CREATE_RESET })\n//         if (!userInfo.isAdmin) {\n//             history.push('/login')\n//         }\n//         if (successCreate) {\n//             history.push(`/admin/product/${createdProduct._id}/edit`)\n//         } else {\n//             dispatch(listProducts(keyword))\n//         }\n//     }, [dispatch, history, userInfo, successDelete, successCreate, createdProduct, keyword])\n//     const deleteHandler = (id) => {\n//         if (window.confirm('Are you sure you want to delete this product?')) {\n//             dispatch(deleteProduct(id))\n//         }\n//     }\n//     const createProductHandler = () => {\n//         dispatch(createProduct())\n//     }\n//     return (\n//         <div>\n//             <Row className='align-items-center'>\n//                 <Col>\n//                     <h1>Products</h1>\n//                 </Col>\n//                 <Col className='text-right'>\n//                     <Button className='my-3' onClick={createProductHandler}>\n//                         <i className='fas fa-plus'></i> Create Product\n//                     </Button>\n//                 </Col>\n//             </Row>\n//             {loadingDelete && <Loader />}\n//             {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\n//             {loadingCreate && <Loader />}\n//             {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\n//             {loading\n//                 ? (<Loader />)\n//                 : error\n//                     ? (<Message variant='danger'>{error}</Message>)\n//                     : (\n//                         <div>\n//                             <Table striped bordered hover responsive className='table-sm'>\n//                                 <thead>\n//                                     <tr>\n//                                         <th>ID</th>\n//                                         <th>NAME</th>\n//                                         <th>PRICE</th>\n//                                         <th>CATEGORY</th>\n//                                         <th>BRAND</th>\n//                                         <th></th>\n//                                     </tr>\n//                                 </thead>\n//                                 <tbody>\n//                                     {products.map(product => (\n//                                         <tr key={product._id}>\n//                                             <td>{product._id}</td>\n//                                             <td>{product.name}</td>\n//                                             <td>Rs{product.price}</td>\n//                                             <td>{product.category}</td>\n//                                             <td>{product.brand}</td>\n//                                             <td>\n//                                                 <LinkContainer to={`/admin/product/${product._id}/edit`}>\n//                                                     <Button variant='light' className='btn-sm'>\n//                                                         <i className='fas fa-edit'></i>\n//                                                     </Button>\n//                                                 </LinkContainer>\n//                                                 <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(product._id)}>\n//                                                     <i className='fas fa-trash'></i>\n//                                                 </Button>\n//                                             </td>\n//                                         </tr>\n//                                     ))}\n//                                 </tbody>\n//                             </Table>\n//                             <Paginate pages={pages} page={page} isAdmin={true} />\n//                         </div>\n//                     )}\n//         </div>\n//     )\n// }\n// export default ProductListScreen\n//thi is new\n// import React, { useEffect } from 'react'\n// import { Link } from 'react-router-dom'\n// import { useDispatch, useSelector } from 'react-redux'\n// import { listProducts } from '../actions/productActions'\n// import LoadingBox from '../components/LoadingBox'\n// import MessageBox from '../components/MessageBox'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var dispatch=useDispatch();useEffect(function(){dispatch(listProducts());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-product\",children:\"Create Product\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category?product.category.name:'-'}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",children:\"Delete\"})]})]},product._id);})})]})]});}export default ProductListScreen;","map":{"version":3,"names":["React","useState","useEffect","LinkContainer","Table","Button","Row","Col","useDispatch","useSelector","Loader","Message","Paginate","listProducts","deleteProduct","createProduct","PRODUCT_CREATE_RESET","ProductListScreen","props","productList","state","loading","error","products","dispatch","map","product","_id","name","price","category","brand","history","push"],"sources":["D:/fyp/Ecommerce_Bikiemart/frontend/src/screens/ProductListScreen.js"],"sourcesContent":["\n\nimport React, { useState, useEffect } from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button, Row, Col } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport Paginate from '../components/Paginate'\nimport { listProducts, deleteProduct, createProduct } from '../actions/productActions'\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants'\n\n// function ProductListScreen({ history, match }) {\n\n//     const dispatch = useDispatch()\n\n//     const productList = useSelector(state => state.productList)\n//     const { loading, error, products, pages, page } = productList\n\n//     const productDelete = useSelector(state => state.productDelete)\n//     const { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete\n\n//     const productCreate = useSelector(state => state.productCreate)\n//     const { loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct } = productCreate\n\n\n//     const userLogin = useSelector(state => state.userLogin)\n//     const { userInfo } = userLogin\n\n//     let keyword = history.location.search\n//     useEffect(() => {\n//         dispatch({ type: PRODUCT_CREATE_RESET })\n\n//         if (!userInfo.isAdmin) {\n//             history.push('/login')\n//         }\n\n//         if (successCreate) {\n//             history.push(`/admin/product/${createdProduct._id}/edit`)\n//         } else {\n//             dispatch(listProducts(keyword))\n//         }\n\n//     }, [dispatch, history, userInfo, successDelete, successCreate, createdProduct, keyword])\n\n\n//     const deleteHandler = (id) => {\n\n//         if (window.confirm('Are you sure you want to delete this product?')) {\n//             dispatch(deleteProduct(id))\n//         }\n//     }\n\n//     const createProductHandler = () => {\n//         dispatch(createProduct())\n//     }\n\n//     return (\n//         <div>\n//             <Row className='align-items-center'>\n//                 <Col>\n//                     <h1>Products</h1>\n//                 </Col>\n\n//                 <Col className='text-right'>\n//                     <Button className='my-3' onClick={createProductHandler}>\n//                         <i className='fas fa-plus'></i> Create Product\n//                     </Button>\n//                 </Col>\n//             </Row>\n\n//             {loadingDelete && <Loader />}\n//             {errorDelete && <Message variant='danger'>{errorDelete}</Message>}\n\n\n//             {loadingCreate && <Loader />}\n//             {errorCreate && <Message variant='danger'>{errorCreate}</Message>}\n\n//             {loading\n//                 ? (<Loader />)\n//                 : error\n//                     ? (<Message variant='danger'>{error}</Message>)\n//                     : (\n//                         <div>\n//                             <Table striped bordered hover responsive className='table-sm'>\n//                                 <thead>\n//                                     <tr>\n//                                         <th>ID</th>\n//                                         <th>NAME</th>\n//                                         <th>PRICE</th>\n//                                         <th>CATEGORY</th>\n//                                         <th>BRAND</th>\n//                                         <th></th>\n//                                     </tr>\n//                                 </thead>\n\n//                                 <tbody>\n//                                     {products.map(product => (\n//                                         <tr key={product._id}>\n//                                             <td>{product._id}</td>\n//                                             <td>{product.name}</td>\n//                                             <td>Rs{product.price}</td>\n//                                             <td>{product.category}</td>\n//                                             <td>{product.brand}</td>\n\n//                                             <td>\n//                                                 <LinkContainer to={`/admin/product/${product._id}/edit`}>\n//                                                     <Button variant='light' className='btn-sm'>\n//                                                         <i className='fas fa-edit'></i>\n//                                                     </Button>\n//                                                 </LinkContainer>\n\n//                                                 <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(product._id)}>\n//                                                     <i className='fas fa-trash'></i>\n//                                                 </Button>\n//                                             </td>\n//                                         </tr>\n//                                     ))}\n//                                 </tbody>\n//                             </Table>\n//                             <Paginate pages={pages} page={page} isAdmin={true} />\n//                         </div>\n//                     )}\n//         </div>\n//     )\n// }\n\n// export default ProductListScreen\n//thi is new\n// import React, { useEffect } from 'react'\n// import { Link } from 'react-router-dom'\n// import { useDispatch, useSelector } from 'react-redux'\n// import { listProducts } from '../actions/productActions'\n// import LoadingBox from '../components/LoadingBox'\n// import MessageBox from '../components/MessageBox'\n\nfunction ProductListScreen(props) {\n  const productList = useSelector((state) => state.productList)\n  const { loading, error, products } = productList\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(listProducts())\n  }, [dispatch])\n\n  return (\n    <div>\n      <h1>Products</h1>\n      <Link to=\"/create-product\">Create Product</Link>\n      {loading ? (\n        <LoadingBox />\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>PRICE</th>\n              <th>CATEGORY</th>\n              <th>BRAND</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category ? product.category.name : '-'}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() =>\n                      props.history.push(`/product/${product._id}/edit`)\n                    }\n                  >\n                    Edit\n                  </button>\n                  <button type=\"button\" className=\"small\">\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  )\n}\n\nexport default ProductListScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}